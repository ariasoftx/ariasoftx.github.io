<h1 class="text-2xl">AI chat</h1>
<p>here you can chat with ai</p>
<div id="chat">
    <p><span class="text-red-500">you: </span>hello</p>
    <p><span class="text-blue-600">AI: </span>hello</p>
</div>
<input type="text" class="border focus:outline-none" id="input"><button id="ask" class="border border-l-0 px-2 cursor-pointer">send</button>
<script type="module">
    console.log("dssdsd");
    
    async function ai(input) {
        const response = await fetch(
        `https://api.cloudflare.com/client/v4/accounts/b54d4bbd7f6075f0530016ec209d4ec2/ai/run/@cf/meta/llama-3-8b-instruct`,
        {
            headers: { Authorization: "Bearer LPFIApG5X8aREobCtsDpI-I3SgTfioxF6oC0WxS8" },
            method: "POST",
            body: JSON.stringify({prompt:input}),
        }
        )
        return await response.json()
    }
    var chat = document.querySelector("#chat")
    document.querySelector("#ask").addEventListener("click",async ()=>{
        var input = document.querySelector("#input").value
        chat.innerHTML += `<p><span class="text-red-500">you: </span>${input}</p>`
        var l = await ai(input)
        console.log(l);
        
    })
</script>